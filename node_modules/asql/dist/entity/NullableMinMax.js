"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.NullableMinMax = void 0;
class NullableMinMax {
    constructor(column, minmax = {}, option = {}) {
        this.column = column;
        this.minmax = minmax;
        this.option = option;
    }
    get(add) {
        const { column, minmax, option } = this;
        const { min, max } = minmax;
        const { greaterThan = '>=', lessThan = '<=', notNull } = option;
        if (min !== undefined) {
            if (max !== undefined) {
                return `(${column} ${greaterThan} ${add(min)} AND ${column} ${lessThan} ${add(max)})`;
            }
            else {
                return `${column} ${greaterThan} ${add(min)}`;
            }
        }
        else {
            if (max !== undefined) {
                if (notNull) {
                    return `${column} ${lessThan} ${add(max)}`;
                }
                return `(${column} IS NULL OR ${column} ${lessThan} ${add(max)})`;
            }
        }
        return '';
    }
}
exports.NullableMinMax = NullableMinMax;
